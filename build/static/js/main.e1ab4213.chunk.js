(this.webpackJsonpmpa=this.webpackJsonpmpa||[]).push([[0],{105:function(e,t,a){},174:function(e,t,a){},175:function(e,t,a){},177:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(9),r=a.n(o),c=a(10),l=a(26);function s(){return i.a.createElement("div",{className:"footer"},i.a.createElement(l.b,{to:"/trip"},"\u51fa\u884c"),i.a.createElement(l.b,{to:"/traffic"},"\u4ea4\u901a"),i.a.createElement(l.b,{to:"/history"},"\u5386\u53f2"),i.a.createElement(l.b,{to:"/mine"},"\u6211\u7684"))}a(105);var u=a(43),m=a.n(u),p=a(70),d=a(27),g=a(18),f=a(73),h=a.n(f);a(174);var y=[{smallIconUrl:"",detailHintMsg:"",itemType:0,image:"https://img.alicdn.com/bao/uploaded/i2/192707956/O1CN01PwlNZf28dtf7loeaq_!!192707956.jpg",detailUrl:"youxuan://commodity?id=23666008",itemFlag:0,saleNum:482,keywords:[],originPrice:33,id:23666008,tbOriginPrice:33,commodityId:"605020033180",title:"\u6625\u5b63\u51cf\u9f84\u4e09\u4ef6\u5957\u97e9\u7248\u9488\u7ec7\u5916\u5957+\u7eaf\u8272T\u6064+\u767e\u8936\u88d9\u65f6\u5c1a\u5957\u88c5\u59732020\u65b0\u6b3e",taobaoCid:123216004,platform:1,rebateCashAmount:0,largeCoupon:null,type:1,couponValue:"",expiring:null,expireMsg:"",price:32.98,isFreePostage:!0,itemId:30018657,expireDate:null,cid:0,url:"https://s.click.taobao.com/p5qRLov",isFavorited:!1,showExpireMsg:!1,qunTitle:"",commodityTypeName:"\u516c\u7528",ratingType:"",isExpired:!1,recComment:"",select:!0,selectCount:1},{smallIconUrl:"",detailHintMsg:"",itemType:0,image:"https://img.alicdn.com/bao/uploaded/i1/2206480155336/O1CN01079RpZ1pHvxgQs6va_!!0-item_pic.jpg",detailUrl:"youxuan://commodity?id=22332620",itemFlag:0,saleNum:19146,keywords:[],originPrice:99,id:22332620,tbOriginPrice:99,commodityId:"601437202802",title:"\u957f\u8896T\u6064\u5973\u6625\u79cb\u5185\u642d\u767d\u8272\u6253\u5e95\u886b\u97e9\u7248\u6175\u61d2\u98ce\u5bbd\u677e\u767e\u642d\u7eaf\u8272\u4e2d\u957f\u6b3e\u4e0a\u8863",taobaoCid:50000671,platform:2,rebateCashAmount:0,largeCoupon:null,type:1,couponValue:"",expiring:null,expireMsg:"",price:9.9,isFreePostage:!0,itemId:28705505,expireDate:null,cid:0,url:"https://s.click.taobao.com/TYjRLov",isFavorited:!1,showExpireMsg:!1,qunTitle:"",commodityTypeName:"\u718a\u732b",ratingType:"",isExpired:!1,recComment:"",select:!0,selectCount:1},{smallIconUrl:"",detailHintMsg:"",itemType:0,image:"https://img.alicdn.com/i4/2019221222/O1CN011KtiSNCV4VvP5ST_!!2019221222.jpg",detailUrl:"youxuan://commodity?id=27887217",itemFlag:0,saleNum:42,keywords:[],originPrice:458,id:27887217,tbOriginPrice:458,commodityId:"559982693459",title:"\u68c9\u8863\u5973\u5916\u59572019\u65b0\u6b3e\u51ac\u5b63\u97e9\u7248\u4e2d\u957f\u6b3e\u8fc7\u819d\u52a0\u539a\u9762\u5305\u7fbd\u7ed2\u68c9\u670d\u5b66\u751f\u68c9\u8884",taobaoCid:50008900,platform:2,rebateCashAmount:0,largeCoupon:null,type:1,couponValue:"",expiring:null,expireMsg:"",price:69.9,isFreePostage:!0,itemId:9041200,expireDate:null,cid:0,url:"https://s.click.taobao.com/M1QTLov",isFavorited:!1,showExpireMsg:!1,qunTitle:"",commodityTypeName:"\u516c\u7528",ratingType:"",isExpired:!1,recComment:"",select:!0,selectCount:1},{smallIconUrl:"",detailHintMsg:"",itemType:0,image:"https://img.alicdn.com/bao/uploaded/i4/3543552751/TB2l0aHIYSYBuNjSspiXXXNzpXa_!!3543552751-0-item_pic.jpg",detailUrl:"youxuan://commodity?id=3830226",itemFlag:0,saleNum:97,keywords:[],originPrice:19.9,id:3830226,tbOriginPrice:19.9,commodityId:"574682180196",title:"2020\u65e9\u6625\u5b63\u5185\u642d\u6b27\u7f8e\u6253\u5e95\u5c0f\u886b\u5973ins\u6b27\u8d27\u6b27\u6d32\u7ad9\u4e0a\u8863\u6d0b\u6c14\u79cb\u957f\u8896t\u6064\u6f6e",taobaoCid:50000671,platform:2,rebateCashAmount:0,largeCoupon:null,type:1,couponValue:"",expiring:null,expireMsg:"",price:9.95,isFreePostage:!0,itemId:10286089,expireDate:null,cid:0,url:"https://s.click.taobao.com/RvNSLov",isFavorited:!1,showExpireMsg:!1,qunTitle:"\u3010\u52a0\u539a\u4e0a\u8863\u30112018\u65b0\u6b3e\u79cb\u51ac \xb7 \u8896t\u6064",commodityTypeName:"\u718a\u732b",ratingType:"",isExpired:!1,recComment:"\u8d85\u767e\u642d\u6253\u5e95\uff0c\u600e\u4e48\u642d\u914d\u90fd\u597d\u770b",select:!0,selectCount:1},{smallIconUrl:"",detailHintMsg:"",itemType:0,image:"https://img.alicdn.com/bao/uploaded/i2/508747471/O1CN01ipsxqf253lUgNu1zP_!!508747471.jpg",detailUrl:"youxuan://commodity?id=22670176",itemFlag:0,saleNum:36,keywords:[],originPrice:399,id:22670176,tbOriginPrice:399,commodityId:"602147546538",title:"\u68c9\u670d\u5973ins\u6e2f\u98ce\u539f\u5bbf\u5bbd\u677e\u68c9\u8863\u51ac\u5b63\u4e2d\u957f\u6b3e\u68c9\u8884\u8fc7\u819d\u7f8a\u7f94\u6bdb\u5de5\u88c5\u5916\u5957\u5973",taobaoCid:50008900,platform:1,rebateCashAmount:0,largeCoupon:null,type:1,couponValue:"",expiring:null,expireMsg:"",price:198,isFreePostage:!0,itemId:29035159,expireDate:null,cid:0,url:"https://s.click.taobao.com/JGwRLov",isFavorited:!1,showExpireMsg:!1,qunTitle:"",commodityTypeName:"\u718a\u732b",ratingType:"",isExpired:!1,recComment:"",select:!0,selectCount:1}],v=function(){var e=window.localStorage.getItem("shopList");return JSON.parse(e||"[]")},E=function(e){window.localStorage.setItem("shopList",JSON.stringify(e))};a(175);var w=a(94),b=a(95),x=function(){function e(){Object(w.a)(this,e)}return Object(b.a)(e,null,[{key:"checkAll",value:function(e){var t=v();return t=t.map((function(t){return t.select=e,t})),E(t),t}},{key:"getData",value:function(){return v()}},{key:"setShopRadio",value:function(e){var t=Object(d.a)(e,2),a=t[0],n=t[1];n="true"===n;var i=v();return i=i.map((function(e){return e.id==a&&(e.select=!n),e})),E(i),i}},{key:"edtShopCount",value:function(e){var t=Object(d.a)(e,2),a=t[0],n=t[1],i=v();return i=i.map((function(e){return e.id==a&&(e.selectCount=n-0),e})),E(i),i}}]),e}();var C=[{path:"/trip",component:function(e){return i.a.createElement("div",{className:"container"},i.a.createElement("div",null),i.a.createElement(s,null))},exact:!0,title:"\u51fa\u884c",icon:"../../assets/images/\u51fa\u884c.png",selectIcon:"../../assets/images/\u51fa\u884c(1).png"},{path:"/traffic",component:function(e){return i.a.createElement("div",null,"traffic",i.a.createElement(s,null))},exact:!0,title:"\u4ea4\u901a",icon:"../../assets/images/\u4ea4\u901a.png",selectIcon:"../../assets/images/\u4ea4\u901a(1).png"},{path:"/history",component:function(e){return i.a.createElement("div",null,"history ",i.a.createElement(s,null))},exact:!0,title:"\u5386\u53f2",icon:"../../assets/images/\u5386\u53f2.png",selectIcon:"../../assets/images/\u5386\u53f2(1).png"},{path:"/mine",component:function(e){return i.a.createElement("div",null,"mine ",i.a.createElement(s,null))},exact:!0,title:"\u6211\u7684",icon:"../../assets/images/\u6211\u7684.png",selectIcon:"../../assets/images/\u6211\u7684(1).png"},{path:"/start",component:function(){var e,t,a,o=Object(n.useState)("\u5f00\u59cb"),r=Object(d.a)(o,2),c=r[0],l=r[1],s=!0,u=function(e,t){return new Promise((function(t,a){window.AMap.convertFrom(e,"gps",(function(e,a){if("ok"===a.info){var n=a.locations[0];t({latitude:n.Q,longitude:n.R})}}))}))},f=[],y=function(e,t){console.log(f);new window.AMap.Polyline({map:e,path:f,showDir:!0,strokeColor:"#28F",strokeStyle:"solid"});var a=new window.AMap.Polyline({map:e,strokeColor:"#AF5",strokeWeight:6});t.on("moving",(function(e){a.setPath(e.passedPath)})),e.setFitView()},v=function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new window.AMap.Map("container",{resizeEnable:!0,zoom:20,viewMode:"3D"}),a=new window.AMap.Marker({map:t,icon:"https://webapi.amap.com/images/car.png",offset:new window.AMap.Pixel(-26,-13),autoRotation:!0,angle:-90});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(p.a)(m.a.mark((function e(n){var i,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.coords,e.next=3,u([i.longitude,i.latitude]);case 3:o=e.sent,f.push([o.longitude,o.latitude]),y(t,a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(e){g.d.fail("\u5b9a\u4f4d\u5931\u8d25")};return Object(n.useEffect)((function(){var e;e=v,g.d.loading("\u5b9a\u4f4d\u4e2d"),navigator.getGamepads?e():g.d.fail("\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\u5b9a\u4f4d",2)}),[]),i.a.createElement("div",{id:h.a.container},i.a.createElement("div",{id:"container",style:{height:"100%"}},i.a.createElement("div",{className:h.a.start,onClick:function(){s?(e=navigator.geolocation.watchPosition(E,w),l("\u9000\u51fa"),s=!1):(navigator.geolocation.clearWatch(e),l("\u5f00\u59cb"),f=[])}},c)))},exact:!0},{path:"/shop",component:function(e){var t=function(e){var t=e.currentTarget.dataset.id-0;console.log(e.currentTarget),y.forEach((function(e){e.id==t&&function(e){var t=v();t.push(e),window.localStorage.setItem("shopList",JSON.stringify(t))}(e)}))};return i.a.createElement("div",{className:"container  pa"},i.a.createElement("ul",{className:"clearFix"},y.map((function(e){return i.a.createElement("li",{key:e.title},i.a.createElement("img",{src:e.image}),i.a.createElement("p",null,e.title),i.a.createElement("div",{className:"shopPrice"},i.a.createElement("span",{className:"price"},e.price),i.a.createElement("span",{className:"count"},e.saleNum)),i.a.createElement(g.a,{"data-id":e.id,onClick:function(e){t(e)}},"\u52a0\u5165\u8d2d\u7269\u8f66"))}))),i.a.createElement("div",{className:"nav"},i.a.createElement(g.a,{onClick:function(){e.history.push("/cart")},type:"primary"},"\u53bb\u8d2d\u7269\u8f66")))},exact:!0},{path:"/cart",component:function(e){var t=Object(n.useState)(!1),a=Object(d.a)(t,2),o=a[0],r=a[1],c=!1,l=0,s=Object(n.useReducer)((function(e,t){switch(t.type){case"getData":return x.getData();case"checkAll":return x.checkAll(t.data);case"setSelect":return x.setShopRadio(t.data);case"editShopCount":return x.edtShopCount(t.data);default:return e}}),[]),u=Object(d.a)(s,2),m=u[0],p=u[1],f=function(){return m.every((function(e){return e.select}))};Object(n.useEffect)((function(){p({type:"getData"})}),[]),Object(n.useEffect)((function(){r(f())}));var h=function(e){var t=e.target.dataset.id.split("&");p({type:"setSelect",data:t}),r(f())},y=function(e){l=e,c=!0},v=function(e){if(c){var t=e.currentTarget.dataset.id;p({type:"editShopCount",data:[t,l]}),c=!1,l=0}};return i.a.createElement("div",{className:"container"},i.a.createElement("ul",null,m.map((function(e){return i.a.createElement("li",{className:"cart",key:e.id},i.a.createElement("div",{className:"radio"},i.a.createElement(g.b,{checked:e.select,onClick:h,"data-id":e.id+"&"+e.select})),i.a.createElement("div",{className:"img"},i.a.createElement("img",{src:e.image,alt:""})),i.a.createElement("div",{className:"Stepper",onClick:v,"data-id":e.id},i.a.createElement(g.c,{style:{width:"100%",minWidth:"100px"},showNumber:!0,size:"small",defaultValue:e.selectCount,min:1,max:e.saleNum,onChange:y})))}))),i.a.createElement("div",{className:"allSe"},i.a.createElement(g.b,{checked:o,className:"my-radio",onClick:function(){r(!o),p({type:"checkAll",data:!o})}},"\u5168\u9009"),i.a.createElement("h2",null,"\u603b\u4ef7\u683c:"+m.reduce((function(e,t){return t.select?e+t.selectCount*parseInt(t.price):e+0}),0))))},exact:!0}];var N=function(){return i.a.createElement(c.d,null,C.map((function(e){return i.a.createElement(c.b,{path:e.path,exact:e.exact,component:e.component,key:e.path})})),i.a.createElement(c.a,{from:"/",to:"/shop"}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(176);r.a.render(i.a.createElement(l.a,null,i.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},73:function(e,t,a){e.exports={start:"start_start__l98To",container:"start_container__3Y2_D"}},96:function(e,t,a){e.exports=a(177)}},[[96,1,2]]]);
//# sourceMappingURL=main.e1ab4213.chunk.js.map